<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://stage.fsektionen.se https://fsektionen.se wss://fsektionen.se wss://stage.fsektionen.se gap://ready 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' https://stage.fsektionen.se https://fsektionen.se data:" />
    <title>F-sektionen</title>


    <!-- Material/iOS stylesheets. Will be replaced on deploy -->
    <link rel="stylesheet" href="css/framework7.ios.min.css">
    <link rel="stylesheet" href="css/framework7.ios.colors.min.css">
    <link rel="stylesheet" href="css/ios-overrides.css">

    <!-- General stylesheets -->
    <link rel="stylesheet" href="css/framework7-icons.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/login.css">
    <link rel="stylesheet" href="css/signup.css">
    <link rel="stylesheet" href="css/reset_password.css">
    <link rel="stylesheet" href="css/login_help_confirmation.css">
    <link rel="stylesheet" href="css/error.css">
    <link rel="stylesheet" href="css/calendar.css">
    <link rel="stylesheet" href="css/notifications.css">
    <link rel="stylesheet" href="css/messages.css">
    <link rel="stylesheet" href="css/groups.css">
    <link rel="stylesheet" href="css/event.css">
    <link rel="stylesheet" href="css/home.css">
  </head>
  <body class="theme-orange">
    <!-- Status bar overlay for fullscreen mode-->
    <div class="statusbar-overlay"></div>
    <!-- Panels overlay-->
    <div class="panel-overlay"></div>

    <!-- Right panel with cover effect-->
    <div class="panel panel-right panel-cover">
      <div class="content-block">
        <p>Right panel content goes here</p>
      </div>
    </div>

    <div class="views tabs">
      <!--Tab 1 (Start) -->
      <div id="tab1" class="view view-main tab active">
        <div class="navbar android-hide">
          <div class="navbar-inner">
            <div class="center sliding">Start</div>
          </div>
        </div>
        <div class="pages navbar-fixed">
          <div data-page="tab1" class="page no-swipeback">
            <div class="page-content">
              <div class="content-block subtabs">
                <div class="buttons-row">
                  <a href="#subtab1" class="tab-link active button">Nyheter</a>
                  <a href="#subtab2" class="tab-link button">Event</a>
                  <a href="#subtab3" class="tab-link button">Oklart</a>
                </div>
              </div>
              <div class="tabs-swipeable-wrap subtab-container">
                <div class="tabs">
                  <div id="subtab1" class="tab subtab active infinite-scroll">
                    <div class="news-list" id="news-list"></div>
                    <div class="infinite-scroll-preloader">
                      <div class="preloader"></div>
                    </div>
                  </div>
                  <div id="subtab2" class="tab subtab">
                  </div>
                  <div id="subtab3" class="tab subtab">
                    <div class="content-block">
                      <div class="row">
                        <div class="col-50">
                          <a href="#" data-panel="right" class="button open-panel">Right Panel</a>
                        </div>
                        <div class="col-50">
                          <a href="settings.html">
                            <i class="icon f7-icons">settings</i>
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!--Tab 2 (Notifications) -->
      <div id="tab2" class="view tab">
        <div class="navbar android-hide">
          <div class="navbar-inner">
            <div class="center sliding">Notiser</div>
          </div>
        </div>
        <div class="pages navbar-fixed">
          <div data-page="tab2" class="page">
            <div class="page-content infinite-scroll pull-to-refresh-content">
              <div class="pull-to-refresh-layer">
                <div class="preloader"></div>
                <div class="pull-to-refresh-arrow"></div>
              </div>
              <div class="list-block media-list notification-list" id="notification-list">
                <ul></ul>
              </div>
              <div class="infinite-scroll-preloader">
                <div class="preloader"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!--Tab 3 (Calendar) -->
      <div id="tab3" class="view tab">
        <div class="pages">
          <div data-page="tab3" class="page toolbar-fixed navbar-fixed calendar-page">
            <div class="navbar android-hide">
              <div class="navbar-inner">
                <div class="center sliding">Kalender</div>
              </div>
            </div>
            <div class="content-block">
              <div class="content-block-inner calendar-block">
                <div id="calendar"></div>
              </div>
            </div>
            <div class="row day-title"></div>
            <div class="day-content"></div>
          </div>
        </div>
      </div>
      <!--Tab 4 (Messages) -->
      <div id="tab4" class="view tab">
        <div class="pages">
          <div data-page="tab4" class="page navbar-fixed">
            <div class="navbar android-hide">
              <div class="navbar-inner">
                <div class="center sliding">Meddelanden</div>
              </div>
            </div>
            <div class="page-content">
              <div class="list-block media-list groups-list" id="groups-list">
                <ul></ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Tabbar -->
      <div class="toolbar tabbar">
          <div class="toolbar-inner">
            <a href="#tab1" class="tab-link active">
              <i class="icon f7-icons">home</i>
            </a>
            <a href="#tab2" class="tab-link">
              <i class="icon f7-icons">bell
                <span class="badge" id="notification-badge"></span>
              </i>
            </a>
            <a href="#tab3" class="tab-link">
              <i class="icon f7-icons">calendar</i>
            </a>
            <a href="#tab4" class="tab-link">
              <i class="icon f7-icons">collection</i>
            </a>
        </div>
      </div>
    </div>

    <!-- Templates -->
    <script type="text/template7" id="notificationTemplate">
      <li id="{{id}}" {{#unless seen}} class="unseen" {{/unless}}>
        <a href="#" class="item-link item-content">
          <div class="item-inner">
            <div class="item-title-row">
              <div class="item-title">{{data.title}}</div>
            </div>
            <div class="item-subtitle">{{data.body}}</div>
            <div class="item-text">{{data.extra}}</div>
            <div class="item-created">Skickades {{js "new Date(this.created_at).toLocaleString()"}}</div>
          </div>
        </a>
      </li>
    </script>

    <script type="text/template7" id="groupTemplate">
      <li id="{{id}}">
        <a href="#" class="item-link item-content">
          <div class="item-inner">
            <div class="item-title-row">
              <div class="item-title">{{name}}</div>
            </div>
            {{#each messages}}
              <div class="item-text">
                <i>{{user.name}}</i>: {{content}}
              </div>
            {{/each}}
          </div>
        </a>
      </li>
    </script>

    <script type="text/template7" id="messageTemplate">
      {{#if dayHeader}}
        <div class="messages-date">{{dayHeader}}</div>
      {{/if}}
      <div href="#" id="{{id}}" class="message message-{{type}}
                                       {{#if avatar}}message-with-avatar{{/if}}
                                       {{#if position}}message-appear-from-{{position}}{{/if}}
                                       {{#if by_admin}}message-admin{{/if}}">
        <div class="message-name">{{name}}</div>
        <a href="#" class="taphold">
          <div class="message-text">{{text}}</div>
        </a>
        {{#if avatar}}
          <div class="message-avatar" style="background-image:url({{avatar}})"></div>
        {{/if}}
        {{#if updated_at}}
          <div class="message-label message-updated">{{updated_at}}</div>
        {{/if}}
      </div>
    </script>

    <script type="text/template7" id="calToolbarTemplate">
      <div class="toolbar calendar-custom-toolbar">
        <div class="toolbar-inner">
          <div class="left"></div>
          <div class="right">
            <a href="#" class="link icon-only">Idag</a>
          </div>
        </div>
      </div>
    </script>

    <script type="text/template7" id="dayTemplate">
      {{#each events}}
        <a href="#" class="card day-content-event" data-event-id="{{id}}">
          <div class="card-header">{{title}}</div>
          <div class="card-content">
            <div class="card-content-inner">
              <span class="date">{{js "this.start.hmm()"}}</span>â€”
              <span class="location">{{location}}</span>
            </div>
          </div>
        </a>
      {{/each}}
    </script>

    <script type="text/template7" id="dayTitleTemplate">
      <div class="day-title">
        {{js "this.date.getDayName()"}}
      </div>
    </script>

    <script type="text/template7" id="newsTemplate">
      {{#each news}}
        <div class="card news-card">
          <div class="card-header">{{title}}</div>
          <div class="card-content">
            <div class="card-content-inner">
              {{content}}
              {{#if image}}
                <img class="img-responsive" src="{{image}}"></img>
              {{/if}}
            </div>
          </div>
          <div class="card-footer">
            <span class="name">{{user.name}}</span>
            <span class="date">{{js "new Date(this.created_at).yyyymmdd()"}}</span>
          </div>
        </div>
      {{/each}}
    </script>

    <!-- External JS Libraries -->
    <script type="text/javascript" src='js/node_modules/jquery/dist/jquery.js'></script>
    <script type="text/javascript" src='js/node_modules/jquery.cookie/jquery.cookie.js'></script>
    <script type="text/javascript" src='js/node_modules/jquery-deparam/jquery-deparam.js'></script>
    <script type="text/javascript" src='js/node_modules/pubsub-js/src/pubsub.js'></script>
    <script type="text/javascript" src='js/node_modules/j-toker/dist/jquery.j-toker.js'></script>
    <script type="text/javascript" src='js/node_modules/actioncable/lib/assets/compiled/action_cable.js'></script>
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/framework7.min.js"></script>
    <script type="text/javascript" src="js/action_cable_patch.js"></script>

    <!-- Javascripts -->
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="js/push.js"></script>
    <script type="text/javascript" src="js/date.js"></script>
    <script type="text/javascript" src="js/calendar.js"></script>
    <script type="text/javascript" src="js/notifications.js"></script>
    <script type="text/javascript" src="js/home.js"></script>
    <script type="text/javascript" src="js/login.js"></script>
    <script type="text/javascript" src="js/signup.js"></script>
    <script type="text/javascript" src="js/reset_password.js"></script>
    <script type="text/javascript" src="js/action_cable.js"></script>
    <script type="text/javascript" src="js/groups.js"></script>
    <script type="text/javascript" src="js/messages.js"></script>
    <script type="text/javascript" src="js/event.js"></script>
    <script type="text/javascript" src="js/settings.js"></script>
  </body>
</html>
